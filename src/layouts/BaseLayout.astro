---
const title = Astro.props.title || "AI Safety at UCLA";
const currentPath = new URL(Astro.request.url).pathname.replace(/\/$/, "");
const navClasses = [
  "inline-block",
  "rounded-lg",
  "py-1",
  "px-2",
  "text-sm",
  "",
];
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={Astro.props.desc || "UCLA DataRes"} />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <title>{title}</title>
  </head>
  <body class="flex flex-col h-screen justify-between">
    <header class="py-6">
      <div class="mx-auto max-w-7xl px-6 sm:px-6 lg:px-8">
        <nav class="relative">
          <div class="flex justify-between text-slate-700 text-lg text-center">
            <a href="/">
              <img
                alt="ai safety logo"
                src="/assets/logo.png"
                class="h-8 w-auto px-2 inline-block"
              />
               AI Safety at UCLA
            </a>
            <div class="hidden md:flex items-center gap-x-1 md:gap-x-8">
              <a
                class:list={[
                  ...navClasses,
                  currentPath === "/events"
                    ? "bg-slate-700 text-slate-100"
                    : "text-slate-700 hover:bg-slate-100",
                ]}
                href="/events"
              >
                Events
              </a>
              <a
                class:list={[
                  ...navClasses,
                  currentPath === "/who-we-are"
                    ? "bg-slate-700 text-slate-100"
                    : "text-slate-700 hover:bg-slate-100",
                ]}
                href="/who-we-are"
              >
                Who We Are
              </a>
              <a
                class:list={[
                  ...navClasses,
                  currentPath === "/projects"
                    ? "bg-slate-700 text-slate-100"
                    : "text-slate-700 hover:bg-slate-100",
                ]}
                href="/projects"
              >
                Projects
              </a>
              <a
                class:list={[
                  ...navClasses,
                  currentPath === "/join-us"
                    ? "bg-slate-700 text-slate-100"
                    : "text-slate-700 hover:bg-slate-100",
                ]}
                href="/join-us"
              >
                Join Us
              </a>
            </div>
            <div class="block md:hidden" id="hamburger">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-8 h-8"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
              </svg>
            </div>
          </div>
          <div
            id="hamburger-fold"
            class="hidden border-t mt-4 border-slate-400"
          >
            <a class="block my-2 text-slate-700" href="/events">Events</a>
            <a class="block my-2 text-slate-700" href="/who-we-are">
              Who We Are
            </a>
            <a class="block my-2 text-slate-700" href="/projects">Projects</a>
            <a class="block my-2 text-slate-700" href="/join-us">Join Us</a>
          </div>
        </nav>
      </div>
    </header>
    <main class="max-w-5xl mx-auto mb-auto w-full">
      <slot />
    </main>
    <footer class="py-10 bg-slate-900 text-slate-100">
      <div class="mx-auto max-w-7xl flex justify-between px-6">
        <p>&copy; 2023 AI Safety at UCLA</p>
        <div class="flex gap-x-2">
          <a href="//github.com/ais-ucla">Github</a>
          <a href="//discord.gg/37TzSyrwmf">Discord</a>
        </div>
      </div>
    </footer>
  </body>
  <script>
    document.querySelector("#hamburger")?.addEventListener("click", () => {
      document.querySelector("#hamburger-fold")?.classList.toggle("hidden");
    });
  </script>
</html>
